<section class="app-user-list">

    <!-- list section start -->
    <div class="card">
      <div class="card-header">
        <h3 class="card-title">Reward</h3>
        <a href="/admin/getFormReward" class="btn btn-primary text-left"> Add Reward</a>
      </div>
      <div class="card-datatable table-responsive pt-0">
        <div id="DataTables_Table_0_wrapper" class="dataTables_wrapper dt-bootstrap5 no-footer">
          <table id="myTable" class="display">
            <thead>
              <tr>
                <th>S no.</th>
                <th>Title</th>
                <th>Description</th>
                <th>Image</th>
                <th>Actions</th>
              </tr>
            </thead>
            <% if(result.length> 0 ){ %>
              <tbody>
            <% result.forEach((data,i)=>{%>
              <tr>
                <td><%= i+1%></td>
                <td><%= data?.title%></td>  
                <td><%=data?.description?data?.description?.replace(/<\/?[^>]+(>|$)/g, "").replace(/&nbsp;/g, " ").substring(0,20) + "...": ''%> </td>
                <td> <img class="" id="blah" src="<%= data?.image ? data?.image : '/assets/noimages.png' %>" alt="your image" width="70" height="70" />
                </td>
                <td>
                    <div class="dropdown">
                      <button type="button" class="btn btn-sm dropdown-toggle hide-arrow waves-effect waves-float waves-light" data-bs-toggle="dropdown" aria-expanded="false">
                        <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-more-vertical">
                          <circle cx="12" cy="12" r="1"></circle>
                          <circle cx="12" cy="5" r="1"></circle>
                          <circle cx="12" cy="19" r="1"></circle>
                        </svg>
                      </button>
                      <div class="dropdown-menu">
                        <a class="dropdown-item d-flex align-items-center" href="/admin/rewardView/<%=data._id%>">
                          <i class="ph ph-eye me-50"></i>
                          <span>View</span>
                        </a>
                        <a class="dropdown-item" href="/admin/rewardEdit/<%=data._id%>">
                          <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-edit-2 me-50">
                            <path d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z">
                            </path>
                          </svg>
                          <span>Edit</span>
                        </a>
                        <button class="dropdown-item deleteReward" data-id="<%=data?._id%>">
                          <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-trash me-50">
                            <polyline points="3 6 5 6 21 6"></polyline>
                            <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2">
                            </path>
                          </svg>
                          <span>Delete</span>
                        </button>
                      </div>
                    </div>
                  </td>
               
              </tr>
              
              <%})%>
            </tbody>
            <%}else{%>
            <tr class="odd">
              <td valign="top" colspan="6" class="dataTables_empty">No data available in
                table</td>
            </tr>
            <%}%>
          </table>
        </div>
      </div>
    </div>
    <!-- list section end -->
  </section>
  <script>
    $(document).ready(function() {
      $('#myTable').DataTable();
    });
  </script>
  
    <!-- main content End -->
    <!-- <script src="../assets/js/myScripts.js"></script> -->
    <script>
      imgInp.onchange = (evt) => {
        const [file] = imgInp.files;
        if (file) {
          blah.src = URL.createObjectURL(file);
        }
      };
    </script>
    <% if(msg !='' ) { %>
        <script>
          toastr.success("<%= msg %>")
        </script>
    <% } %>
  
  
  
     